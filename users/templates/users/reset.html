<form method="POST">
    {% csrf_token %}
    {% if messages %}
      {% for message in messages %}
        <div class="alert alert-{{ message.tags }}">{{ message }}</div>
      {% endfor %}
    {% endif %}
    
    <input type="email" name="email" placeholder="Email" value="{{ email }}" {% if email %}readonly{% endif %} required><br>
    
    <select name="user_type" required>
      <option value="">Select Account Type</option>
      <option value="client" {% if user_type == 'client' %}selected{% endif %}>Client</option>
      <option value="vendor" {% if user_type == 'vendor' %}selected{% endif %}>Vendor</option>
    </select><br>
    
    <input type="password" name="new_password" placeholder="New Password" required><br>
    <input type="password" name="confirm_password" placeholder="Confirm Password" required><br>
    
    <button type="submit">Reset Password</button>
    <a href="{% url 'users:login' %}">Back to Login</a>
  </form>
  
  <script>
    // Simple client-side validation to check if passwords match
    document.querySelector('form').addEventListener('submit', function(e) {
      var password = document.querySelector('input[name="new_password"]').value;
      var confirmPassword = document.querySelector('input[name="confirm_password"]').value;
      
      if (password !== confirmPassword) {
        e.preventDefault();
        alert('Passwords do not match!');
      }
    });
  </script>